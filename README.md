# KeyMouse - 键鼠替换工具

## 项目简介

KeyMouse 是一个专为 Windows 系统设计的键鼠替换和自动化工具。它允许用户自定义键盘和鼠标的行为，实现按键映射、宏定义以及模式切换等功能，旨在提升操作效率和个性化体验。

## 项目结构(更新较慢,请以实际仓库代码结构为准)

```
.gitignore
├── config.ini
├── config_loader.py
├── gui.py
├── main.py
├── main.spec
├── modeswitch.py
├── pyvenv.cfg
├── requirements.txt
├── tray_icon.py
├── utool.py
├── README.md
```



KeyMouse 的设计围绕以下几个核心理念展开：

1.  **模块化与可扩展性**：项目结构清晰，各功能模块（如模式切换、GUI 界面、系统托盘集成）职责分离，便于功能扩展和维护。
2.  **配置化与灵活性**：通过 INI/YAML 配置文件实现高度可定制性，用户可以根据自己的需求轻松调整按键映射和行为逻辑。
3.  **用户友好与直观**：提供图形用户界面（GUI）和系统托盘图标，方便用户进行配置管理和快速模式切换。
4.  **轻量级与高效**：底层采用 `pynput` 等库实现对键鼠事件的监听和控制，确保系统资源占用低，响应迅速。

## 主要功能

-   **自定义按键映射**：将键盘或鼠标的某个按键映射为其他按键或组合键。
-   **宏定义**：录制和回放一系列按键和鼠标操作，实现自动化任务。
-   **模式切换**：根据预设的配置文件，快速切换不同的键鼠行为模式（例如，游戏模式、办公模式）。
-   **系统托盘集成**：在系统托盘提供便捷的入口，进行模式切换和程序退出等操作。
-   **图形化配置界面**：通过直观的 GUI 界面管理和编辑配置。

## 默认配置使用

项目默认提供了一套基础配置，开箱即用。以下是基于默认配置的简要使用说明：

以下是程序默认的键盘映射，所有操作仅在“鼠标控制模式”下生效，除非另有说明：

| 功能 (Function) | 默认按键 (Default Key) |
| :--- | :--- |
| **鼠标移动** | |
| 向上移动 | `i` |
| 向下移动 | `k` |
| 向左移动 | `j` |
| 向右移动 | `l` |
| **鼠标滚动** | |
| 向上滚动 | `comma` (逗号 ,) |
| 向下滚动 | `m` |
| **鼠标点击** | |
| 左键点击 | `semicolon` (分号 ;) |
| 右键点击 | `apostrophe` (单引号 ') |
| 中键点击 | `rshift` (右 Shift) |
| **高级功能** | |
| 粘滞左键 (切换) | `n` |
| **模式控制** | |
| 切换鼠标控制模式 | `<alt>+a` |
| 内部模式切换键 | `q` |
| 退出程序 (在控制模式下) | `esc` |

*   **退出程序**：
    *   **Esc 键**：在鼠标控制模式按下可安全退出程序,在普通模式下,为了防止用户的误操作所以不会直接退出。


### 1. 运行程序

双击 `main.exe` 运行程序。程序启动后，会在系统托盘区显示一个图标。

> **重要提示**：
> 本项目以 Release 方式发布，主要通过 PyInstaller 打包为独立可执行文件。由于 Python 打包的特性，部分杀毒软件可能会误报病毒。请放心，本项目不包含任何恶意代码。如果遇到此类警告，请将其添加到杀毒软件的白名单中，或暂时关闭杀毒软件进行运行。

### 2. 系统托盘操作

右键点击系统托盘图标，可以进行以下操作：

-   **打开配置界面**：打开配置界面,可对于本程序极大多数操作进行配置。
-   **退出**：关闭 KeyMouse。

### 3. 配置文件

默认情况下，程序会加载 `config.ini` 作为主配置文件。你也可以通过系统托盘切换到其他配置文件，例如 `config_wasd.ini`。

-   `config.ini`：通用配置示例。
-   `config_wasd.ini`：WASD 键位相关的配置示例。

你可以直接编辑这些 `.ini` 文件来修改键鼠映射和宏定义。配置文件的具体格式和可配置项，请参考文件内部的注释或后续的详细配置指南。
但是强烈不建议直接通过配置文件来进行修改配置

## 安装与运行

### 前提条件

-   Python 3.x
-   Windows 操作系统

### 安装依赖

在项目根目录下打开命令行工具（如 PowerShell），运行以下命令安装所需的 Python 库：

```bash
pip install -r requirements.txt
```

### 运行

```bash
python main.py
```

## 贡献

欢迎提交 Pull Request 或报告 Issue。
